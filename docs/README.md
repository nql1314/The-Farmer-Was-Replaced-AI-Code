# The Farmer Was Replaced - 脚本集合

这是一个为 The Farmer Was Replaced 游戏设计的完整脚本集合，包含单无人机和多无人机版本，涵盖所有主要资源收集任务。

## 📚 目录

- [快速开始](#快速开始)
- [脚本分类](#脚本分类)
- [性能对比](#性能对比)
- [使用指南](#使用指南)
- [更新日志](#更新日志)

## 🚀 快速开始

### 1. 检查你的游戏状态

```python
# 运行测试脚本检查无人机可用性
# 复制 test_mega_farm.py 的内容到游戏中运行
```

### 2. 选择合适的脚本

**如果你有多无人机（已解锁 Megafarm）**：
- ✅ 使用 `*_mega.py` 版本（效率提升 3-4 倍）

**如果你只有单无人机**：
- ✅ 使用常规版本（稳定可靠）

### 3. 开始收集资源

```python
# 例如：运行多无人机资源农场
# 复制 resource_farm_mega.py 的内容到游戏中运行
```

## 📂 脚本分类

### 🌾 基础资源收集

#### 单无人机版本
- **`resource_farm.py`** - 智能资源平衡种植
  - 干草、木材、胡萝卜
  - 伴生种植支持
  - 智能优先级决策

#### 多无人机版本 ⭐
- **`resource_farm_mega.py`** - 多无人机资源收集
  - 2-4 区域并行处理
  - 效率提升 3.5 倍
  - Tick 节省 71%

---

### ⚡ 能量收集（向日葵）

#### 单无人机版本
- **`sunflower_farm.py`** - 向日葵滚动收获
  - 15-14 瓣依次收获
  - 自动触发 5 倍奖励
  - 路径优化

#### 多无人机版本 ⭐
- **`sunflower_farm_mega.py`** - 多无人机向日葵农场
  - 并行种植和扫描
  - 效率提升 3.8 倍
  - Tick 节省 72%

---

### 🎃 南瓜种植

#### 单无人机版本
- **`pumpkin_farm.py`** - 南瓜专业种植
  - 6x6 巨型南瓜
  - 三遍优化策略
  - 枯萎自动补种

#### 多无人机版本 ⭐
- **`pumpkin_farm_mega.py`** - 多无人机南瓜农场
  - 并行种植多个 6x6 区域
  - 并行等待和收获
  - 效率提升 3.4 倍
  - Tick 节省 70%

---

### 🌵 仙人掌排序

#### 单无人机版本
- **`cactus_farm.py`** - 行列分离排序
  - 冒泡排序算法
  - 先行后列策略
  - 连锁收割

#### 多无人机版本 ⭐
- **`cactus_farm_mega.py`** - 多无人机仙人掌农场
  - 并行行列排序
  - 效率提升 3.2 倍
  - Tick 节省 67%

---

### 🧪 特殊系统

#### 肥料农场
- **`fertilizer_farm.py`** - 基础肥料农场
  - 加速作物生长
  - 单一作物模式
  - 三种治愈策略

- **`fertilizer_farm_ad.py`** - 高级肥料农场
  - 多作物分区
  - 智能决策系统
  - 详细统计追踪

#### 迷宫求解
- **`maze_solver.py`** - 基础迷宫求解器
  - BFS 广度优先搜索
  - 自动导航
  - 宝藏收集

- **`maze_solver_advanced.py`** - 高级迷宫求解器
  - 多种算法选择
  - 性能优化
  - 统计分析

- **`maze_solver_ultra.py`** - 超级迷宫求解器
  - 极限优化
  - 最快速度
  - 适合大型迷宫

---

### 🎯 智能协调

- **`mega_farm_coordinator.py`** ⭐ - 多无人机智能协调器
  - 动态资源分析
  - 自动任务分配
  - 优先级调度
  - 多目标管理

---

### 🛠️ 工具库

- **`farm_utils.py`** - 通用工具函数库
  - 移动和导航
  - 路径生成和优化
  - 南瓜/仙人掌辅助函数
  - 环形地图支持

- **`test_mega_farm.py`** - 多无人机功能测试
  - 检测 Megafarm 状态
  - 无人机数量检测
  - 并行任务测试
  - 区域划分计算

---

### 📜 旧版本（已归档）
- `achived/pumpkin_farm_12x12.py` - 旧版 12x12 南瓜农场
- `achived/pumpkin_farm_16x16.py` - 旧版 16x16 南瓜农场

## 📊 性能对比

### 执行速度提升

| 任务类型 | 单无人机 | 2 无人机 | 4 无人机 | 推荐 |
|---------|---------|---------|---------|------|
| 资源收集 | 1.0x | 1.8x | **3.5x** | ⭐⭐⭐⭐⭐ |
| 向日葵 | 1.0x | 1.9x | **3.8x** | ⭐⭐⭐⭐⭐ |
| 南瓜 | 1.0x | 1.85x | **3.4x** | ⭐⭐⭐⭐ |
| 仙人掌 | 1.0x | 1.7x | **3.2x** | ⭐⭐⭐⭐ |

### Tick 消耗对比（12x12 农场）

| 脚本 | 单无人机 | 4 无人机 | 节省 | 效果 |
|------|---------|---------|------|------|
| 资源农场 | ~140,000 | ~40,000 | **71%** | 🚀 |
| 向日葵 | ~80,000 | ~22,000 | **72%** | 🚀 |
| 南瓜 | ~160,000 | ~48,000 | **70%** | 🚀 |
| 仙人掌 | ~200,000 | ~65,000 | **67%** | 🚀 |

## 📖 使用指南

### 基本使用流程

#### 步骤 1：确定你的配置

```python
# 检查无人机数量
max_drones_count = max_drones()

# 检查农场大小
farm_size = get_world_size()
```

#### 步骤 2：选择合适的脚本

**小农场（≤6x6）+ 单无人机**
```
推荐：单无人机版本
- resource_farm.py
- sunflower_farm.py
- pumpkin_farm.py
```

**中型农场（10x10）+ 2-4 无人机**
```
推荐：多无人机版本
- resource_farm_mega.py
- sunflower_farm_mega.py
- pumpkin_farm_mega.py
```

**大型农场（≥12x12）+ 4+ 无人机**
```
推荐：多无人机版本 + 智能协调器
- mega_farm_coordinator.py
或各个 *_mega.py 脚本
```

#### 步骤 3：运行脚本

1. 在游戏中打开代码编辑器
2. 清空现有代码
3. 复制选中的脚本内容
4. 粘贴到编辑器
5. 点击运行

### 推荐使用顺序

#### 游戏早期（刚开始）
1. `resource_farm.py` - 收集基础资源
2. `sunflower_farm.py` - 获取能量加速
3. `pumpkin_farm.py` - 大量南瓜

#### 游戏中期（解锁 Megafarm）
1. `test_mega_farm.py` - 测试无人机功能
2. `resource_farm_mega.py` - 快速收集资源
3. `sunflower_farm_mega.py` - 快速获取能量
4. `pumpkin_farm_mega.py` - 高效南瓜生产

#### 游戏后期（多种需求）
1. `mega_farm_coordinator.py` - 智能协调所有任务
2. 或根据具体需求运行专门脚本

### 常见问题

#### Q: 如何知道我有多少个无人机？
```python
# 运行 test_mega_farm.py 查看
# 或在游戏中执行：
quick_print(max_drones())
```

#### Q: 多无人机脚本运行失败？
**可能原因**：
- 未解锁 Unlocks.Megafarm
- 无人机数量不足
- 脚本选择错误

**解决方案**：
1. 检查 Megafarm 解锁状态
2. 使用 `test_mega_farm.py` 测试
3. 如果失败，使用单无人机版本

#### Q: 哪个脚本最高效？
**答**：
- 单无人机：各脚本效率相近，按需选择
- 多无人机：效率提升 3-4 倍，强烈推荐
- 协调器：自动管理，适合多任务并行

#### Q: 可以同时运行多个脚本吗？
**答**：
- 不建议。游戏一次只能运行一个脚本
- 使用 `mega_farm_coordinator.py` 实现多任务管理

#### Q: 脚本运行需要什么资源？
**答**：
- 资源农场：无特殊要求
- 向日葵：需要南瓜（种植成本）
- 南瓜：需要胡萝卜（脚本会自动补充）
- 仙人掌：需要南瓜（种植成本）

## 📚 详细文档

### 主要文档
- **`CHANGELOG.md`** - 详细更新日志
- **`MEGA_FARM_README.md`** - 多无人机系统完整指南
- **`MAZE_README.md`** - 迷宫求解器使用指南
- **`MAZE_COMPARISON.md`** - 迷宫求解器对比
- **`SUMMARY.md`** - 项目总览

### 专题文档
每个主要功能都有独立的 README：
- 肥料系统文档（在 `fertilizer_farm.py` 中）
- 南瓜种植文档（在 `pumpkin_farm.py` 中）
- 仙人掌排序文档（在 `cactus_farm.py` 中）

## 🎯 最佳实践

### 1. 资源管理
- 优先获取能量（向日葵）
- 保持胡萝卜库存（南瓜需要）
- 定期检查资源平衡

### 2. 无人机使用
- 大农场优先使用多无人机
- 小任务不必生成无人机（有成本）
- 注意无人机数量上限

### 3. 性能优化
- 使用蛇形遍历减少移动
- 缓存常量值（如 world_size）
- 优先检查再执行（避免失败操作）

### 4. 调试技巧
```python
# 使用 quick_print 追踪进度
quick_print("当前阶段：种植")

# 使用 get_tick_count() 测量性能
start = get_tick_count()
your_function()
quick_print("耗时：", get_tick_count() - start)
```

## 🔄 版本历史

### V5.0 (2025-10-22) - 多无人机系统 🚁
- ✨ 全新多无人机脚本
- 🚀 效率提升 3-4 倍
- 🎯 智能协调器
- 📊 详细性能分析

### V4.0 (2025-10-19) - 肥料农场系统 🌱
- ✨ 肥料加速生长
- 🧪 智能感染管理
- 📈 效率提升 28%-100%

### V3.0 - ID检测革命 🎉
- ✨ 南瓜 ID 检测
- 🎯 100% 准确率
- ⚡ 实时收获

### V2.0 - 四区域优化
- ✨ 4x6x6 南瓜田
- 📈 效率提升 44%

### V1.0 - 基础版本
- ✨ 初始脚本集合
- 📚 基础功能实现

详见 `CHANGELOG.md`

## 🤝 贡献

欢迎提出改进建议和优化方案！

### 贡献方式
1. 测试脚本并反馈问题
2. 提出新功能建议
3. 分享优化技巧
4. 改进文档

## 📄 许可

这些脚本是为 The Farmer Was Replaced 游戏设计的辅助工具。
可自由修改和分享。

## 🎮 关于游戏

**The Farmer Was Replaced** 是一款编程自动化游戏：
- 🌾 种植和收获作物
- 🤖 编写脚本自动化农场
- 📊 优化效率和资源管理
- 🏆 挑战更高难度目标

## 📞 联系方式

- 游戏官方 Discord：[链接]
- 问题反馈：通过 GitHub Issues

---

## 🎯 快速索引

### 按功能查找
- **资源收集** → `resource_farm.py` / `resource_farm_mega.py`
- **能量获取** → `sunflower_farm.py` / `sunflower_farm_mega.py`
- **南瓜生产** → `pumpkin_farm.py` / `pumpkin_farm_mega.py`
- **仙人掌** → `cactus_farm.py` / `cactus_farm_mega.py`
- **迷宫** → `maze_solver.py` 系列
- **肥料** → `fertilizer_farm.py` / `fertilizer_farm_ad.py`
- **智能调度** → `mega_farm_coordinator.py`

### 按性能查找
- **最快速度** → 所有 `*_mega.py` 脚本
- **最稳定** → 所有常规版本脚本
- **最智能** → `mega_farm_coordinator.py`
- **最灵活** → `fertilizer_farm_ad.py`

### 按难度查找
- **新手友好** ⭐ → `resource_farm.py`, `sunflower_farm.py`
- **进阶** ⭐⭐ → `pumpkin_farm.py`, `cactus_farm.py`
- **高级** ⭐⭐⭐ → 所有 `*_mega.py` 脚本
- **专家** ⭐⭐⭐⭐ → `mega_farm_coordinator.py`

---

**祝你在农场自动化之旅中获得成功！** 🌾✨

