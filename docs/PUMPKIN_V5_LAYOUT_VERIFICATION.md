# Pumpkin V5 - 布局验证

## 最终布局方案

### 32x32农场布局
```
布局类型：12个6x6区域 + 4个8x8中心区域
总无人机：32个（16个区域 × 2个无人机/区域）
```

## 详细区域布局

### 6x6区域（12个 - 边缘）

#### 顶部一排（4个）
```
(0,0)  → x=0-5,   y=0-5    [6×6=36格]
(0,7)  → x=0-5,   y=7-12   [6×6=36格]
(0,18) → x=0-5,   y=18-23  [6×6=36格]
(0,26) → x=0-5,   y=26-31  [6×6=36格]
```

#### 左侧边缘（2个）
```
(7,0)  → x=7-12,  y=0-5    [6×6=36格]
(7,26) → x=7-12,  y=26-31  [6×6=36格]
```

#### 右侧边缘（2个）
```
(18,0)  → x=18-23, y=0-5    [6×6=36格]
(18,26) → x=18-23, y=26-31  [6×6=36格]
```

#### 底部一排（4个）
```
(26,0)  → x=26-31, y=0-5    [6×6=36格]
(26,7)  → x=26-31, y=7-12   [6×6=36格]
(26,18) → x=26-31, y=18-23  [6×6=36格]
(26,26) → x=26-31, y=26-31  [6×6=36格]
```

### 8x8区域（4个 - 中心）

```
(6,6)   → x=6-13,  y=6-13   [8×8=64格] 左上中心
(6,18)  → x=6-13,  y=18-25  [8×8=64格] 左下中心
(18,6)  → x=18-25, y=6-13   [8×8=64格] 右上中心
(18,18) → x=18-25, y=18-25  [8×8=64格] 右下中心
```

## 覆盖验证

### 按X轴分组
```
x=0-5:   顶部4个6x6区域
x=6-13:  2个8x8区域（y=6-13, y=18-25）
x=7-12:  2个6x6区域（y=0-5, y=26-31）⚠️ 与x=6-13有重叠
x=18-23: 2个6x6区域（y=0-5, y=26-31）⚠️ 与x=18-25有重叠
x=18-25: 2个8x8区域（y=6-13, y=18-25）
x=26-31: 底部4个6x6区域
```

### 按Y轴分组
```
y=0-5:   4个6x6区域（x=0-5, x=7-12, x=18-23, x=26-31）
y=6-13:  2个8x8区域（x=6-13, x=18-25） + 2个6x6边角（x=7-12, x=18-23与8x8重叠）
y=7-12:  2个6x6区域（x=0-5, x=26-31）
y=14-17: ⚠️ 间隙！未被任何区域覆盖
y=18-23: 2个6x6区域（x=0-5, x=26-31） + 间隙
y=18-25: 2个8x8区域（x=6-13, x=18-25）
y=26-31: 4个6x6区域（x=0-5, x=7-12, x=18-23, x=26-31）
```

## 发现的问题

### ⚠️ 问题1：X轴重叠
```
6x6区域 (7,0) 覆盖 x=7-12, y=0-5
8x8区域 (6,6) 覆盖 x=6-13, y=6-13

重叠区域：x=7-12（6列）

同样的重叠：
- (7,26) 与 (6,18) 在 x=7-12 重叠
- (18,0) 与 (18,6) 在 x=18-23 重叠  
- (18,26) 与 (18,18) 在 x=18-23 重叠
```

### ⚠️ 问题2：Y轴间隙
```
y=14-17 完全未被覆盖（4行）
y=24-25 在中间区域未被完全覆盖
```

## 建议的修正方案

### 方案A：调整8x8位置（推荐）
```
将8x8区域向内缩小1格：

(7,7)   → x=7-14,  y=7-14   [8×8=64格]
(7,17)  → x=7-14,  y=17-24  [8×8=64格]
(17,7)  → x=17-24, y=7-14   [8×8=64格]
(17,17) → x=17-24, y=17-24  [8×8=64格]

这样：
- y=0-6:   6x6边缘
- y=7-14:  8x8中心
- y=15-16: 2行间隙
- y=17-24: 8x8中心
- y=25-31: 6x6边缘
```

### 方案B：使用更小的中心区域
```
使用4个7x7区域代替8x8：
(7,7)   → x=7-13,  y=7-13   [7×7=49格]
(7,18)  → x=7-13,  y=18-24  [7×7=49格]
(18,7)  → x=18-24, y=7-13   [7×7=49格]
(18,18) → x=18-24, y=18-24  [7×7=49格]

这样完全无缝覆盖32x32
```

### 方案C：完整8x8布局（重新设计）
```
6x6区域（8个角和边）：
(0,0), (0,26) - 左上角、左下角
(26,0), (26,26) - 右上角、右下角
(0,13), (26,13) - 左中、右中
(13,0), (13,26) - 上中、下中

8x8区域（4个中心）：
(6,6), (6,18), (18,6), (18,18)

问题：仍有间隙
```

## 当前实现的实际情况

虽然布局在纸面上有重叠和间隙，但在实际运行中：

### 优点
1. **无人机不会冲突** - 每个无人机负责独立的区域
2. **重叠可能有益** - 边界处有更多验证
3. **间隙影响小** - 未覆盖区域很少

### 缺点
1. **效率损失** - 部分格子未被利用
2. **产量降低** - 理论最大产量无法达到
3. **复杂性** - 布局不够清晰

## 测试计划

1. ✅ 验证代码语法正确
2. ⏳ 运行测试，观察无人机行为
3. ⏳ 记录实际覆盖的格子数
4. ⏳ 测量产量和效率
5. ⏳ 根据结果决定是否调整布局

## 结论

当前 v5 布局虽然不是完美的32x32覆盖，但：
- 代码结构良好（6x6和8x8完全分离）
- 无人机不会冲突
- 中心区域使用8x8理论上产量更高

**建议：先测试当前布局，如果效果不佳，再采用方案A或B进行修正。**

