# æ›´æ–°æ—¥å¿—

## V4.0 - è‚¥æ–™å†œåœºç³»ç»Ÿ (2025-10-19) ğŸŒ±

### ğŸ†• é‡å¤§æ–°ç‰¹æ€§
- **è‚¥æ–™å†œåœºç³»ç»Ÿ**ï¼šåˆ©ç”¨è‚¥æ–™åŠ é€Ÿä½œç‰©ç”Ÿé•¿
- **æ™ºèƒ½æ„ŸæŸ“ç®¡ç†**ï¼šè‡ªåŠ¨ç®¡ç†æ„ŸæŸ“çŠ¶æ€å’Œå¥‡å¼‚ç‰©è´¨
- **åŒç‰ˆæœ¬æ”¯æŒ**ï¼šåŸºç¡€ç‰ˆå’Œé«˜çº§ç‰ˆæ»¡è¶³ä¸åŒéœ€æ±‚
- **å¤šä½œç‰©ä¼˜åŒ–**ï¼šæ”¯æŒæ ‘ã€èƒ¡èåœã€å‘æ—¥è‘µã€å—ç“œ

### âœ¨ æ ¸å¿ƒä¼˜åŠ¿
- ğŸŒ± **åŠ é€Ÿç”Ÿé•¿**ï¼šè‚¥æ–™ç¼©çŸ­ç”Ÿé•¿æ—¶é—´2ç§’ï¼ˆæ•ˆç‡æå‡28%-100%ï¼‰
- ğŸ§ª **æ™ºèƒ½ç®¡ç†**ï¼šè‡ªåŠ¨å†³ç­–è‚¥æ–™ä½¿ç”¨å’Œæ„ŸæŸ“æ²»æ„ˆ
- ğŸ“Š **è¯¦ç»†ç»Ÿè®¡**ï¼šè¿½è¸ªè‚¥æ–™ä½¿ç”¨ã€èŠ‚çœã€äº§é‡ç­‰æ•°æ®
- ğŸ¯ **åˆ†åŒºç§æ¤**ï¼šæ”¯æŒä¸åŒåŒºåŸŸç§æ¤ä¸åŒä½œç‰©ï¼ˆé«˜çº§ç‰ˆï¼‰

### ğŸ“¦ æ–°å¢æ–‡ä»¶
- `fertilizer_farm.py` - åŸºç¡€è‚¥æ–™å†œåœºï¼ˆå•ä¸€ä½œç‰©ï¼Œç®€å•ç­–ç•¥ï¼‰
- `fertilizer_farm_advanced.py` - é«˜çº§è‚¥æ–™å†œåœºï¼ˆå¤šä½œç‰©ï¼Œæ™ºèƒ½å†³ç­–ï¼‰
- `FERTILIZER_FARM_README.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—å’Œç­–ç•¥åˆ†æ

### ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

#### åŸºç¡€ç‰ˆæœ¬ç‰¹æ€§
```python
# å¯é…ç½®å‚æ•°
CROP_MODE = "tree"           # ä½œç‰©ç±»å‹
USE_FERTILIZER = True        # æ˜¯å¦ä½¿ç”¨è‚¥æ–™
CURE_STRATEGY = "batch"      # æ²»æ„ˆç­–ç•¥
WEIRD_SUBSTANCE_THRESHOLD = 100  # æ²»æ„ˆé˜ˆå€¼

# ä¸‰ç§æ²»æ„ˆç­–ç•¥
- "after_harvest" - æ”¶è·åç«‹å³æ²»æ„ˆ
- "batch" - æ‰¹é‡æ²»æ„ˆï¼ˆæ¨èï¼‰
- "none" - ä¸æ²»æ„ˆï¼Œå¿«é€Ÿç”Ÿé•¿
```

#### é«˜çº§ç‰ˆæœ¬ç‰¹æ€§
```python
# åˆ†åŒºç§æ¤é…ç½®
ZONES = [
    (0, 0, 5, 5, Entities.Tree, True),        # åŒºåŸŸ1ï¼šæ ‘
    (5, 0, 5, 5, Entities.Carrot, True),      # åŒºåŸŸ2ï¼šèƒ¡èåœ
    (0, 5, 5, 5, Entities.Sunflower, True),   # åŒºåŸŸ3ï¼šå‘æ—¥è‘µ
    (5, 5, 5, 5, Entities.Pumpkin, False),    # åŒºåŸŸ4ï¼šå—ç“œ
]

# æ™ºèƒ½å†³ç­–ç³»ç»Ÿ
- è‚¥æ–™ä¼˜å…ˆçº§ç®¡ç†
- é€‰æ‹©æ€§æ„ŸæŸ“æ²»æ„ˆ
- èµ„æºä¼˜åŒ–åˆ†é…
- è¯¦ç»†ç»Ÿè®¡è¿½è¸ª
```

### ğŸ“ˆ ä½œç‰©æ•ˆç‡åˆ†æ

| ä½œç‰© | åŸºç¡€ç”Ÿé•¿ | æ–½è‚¥å | æ—¶é—´èŠ‚çœ | æ•ˆç‡æå‡ | æ¨èåº¦ |
|------|---------|--------|---------|---------|--------|
| æ ‘ | 7ç§’ | 5ç§’ | 2ç§’ | 28.6% | â­â­â­â­â­ |
| èƒ¡èåœ | 6ç§’ | 4ç§’ | 2ç§’ | 33.3% | â­â­â­â­ |
| å‘æ—¥è‘µ | 5ç§’ | 3ç§’ | 2ç§’ | 40% | â­â­â­â­â­ |
| å—ç“œ | 2ç§’ | 0ç§’ | 2ç§’ | 100% | â­â­â­ |

### ğŸ¯ ç­–ç•¥å»ºè®®

#### æ—©æœŸï¼ˆèµ„æºç¨€ç¼ºï¼‰
- ä½¿ç”¨åŸºç¡€ç‰ˆæœ¬
- ä½œç‰©ï¼šæ ‘ï¼ˆé«˜äº§é‡ï¼‰
- ç­–ç•¥ï¼šæ–½è‚¥ + ä¸æ²»æ„ˆï¼ˆæ¥å—50%æŸå¤±æ¢é€Ÿåº¦ï¼‰

#### ä¸­æœŸï¼ˆæœ‰ä¸€å®šç§¯ç´¯ï¼‰
- ä½¿ç”¨åŸºç¡€ç‰ˆæœ¬
- ä½œç‰©ï¼šå‘æ—¥è‘µï¼ˆè·å–èƒ½é‡ï¼‰
- ç­–ç•¥ï¼šæ–½è‚¥ + æ‰¹é‡æ²»æ„ˆ

#### åæœŸï¼ˆèµ„æºå……è¶³ï¼‰
- ä½¿ç”¨é«˜çº§ç‰ˆæœ¬
- åˆ†åŒºï¼š70%æ ‘ + 20%å‘æ—¥è‘µ + 10%èƒ¡èåœ
- ç­–ç•¥ï¼šæ™ºèƒ½æ–½è‚¥ + é€‰æ‹©æ€§æ²»æ„ˆ

### ğŸ”¬ æŠ€æœ¯äº®ç‚¹

#### 1. æ™ºèƒ½è‚¥æ–™ç®¡ç†
```python
def should_use_fertilizer(x, y, crop_entity):
    # æ ¹æ®è‚¥æ–™æ•°é‡å’Œä½œç‰©ä¼˜å…ˆçº§å†³ç­–
    if fertilizer_count >= total_cells:
        return True  # å……è¶³æ—¶å…¨éƒ¨ä½¿ç”¨
    elif high_priority_crop:
        return True  # ä¼˜å…ˆé«˜ä»·å€¼ä½œç‰©
    else:
        return False  # èŠ‚çœè‚¥æ–™
```

#### 2. é€‰æ‹©æ€§æ²»æ„ˆ
```python
def should_cure_plant(x, y, crop_entity):
    # åªæ²»æ„ˆé«˜ä»·å€¼ä½œç‰©
    if weird_substance < threshold:
        return False  # èµ„æºä¸è¶³ï¼Œç»§ç»­ç§¯ç´¯
    elif high_priority_crop:
        return True   # ä¼˜å…ˆæ²»æ„ˆé«˜ä»·å€¼
    else:
        return False  # ä½ä»·å€¼ä½œç‰©ä¿æŒæ„ŸæŸ“
```

#### 3. çŠ¶æ€è¿½è¸ª
```python
farm_state = {
    "cells": {
        (x, y): {
            "crop": entity,
            "fertilized": bool,
            "infected": bool,
            "last_harvest_time": tick
        }
    }
}
```

### ğŸ“Š ç»Ÿè®¡ä¿¡æ¯
é«˜çº§ç‰ˆæœ¬æä¾›è¯¦ç»†ç»Ÿè®¡ï¼š
- âœ… æ€»å¾ªç¯æ¬¡æ•°
- âœ… æ€»æ”¶è·æ•°é‡
- âœ… ä½¿ç”¨è‚¥æ–™æ•°é‡
- âœ… èŠ‚çœè‚¥æ–™æ•°é‡ï¼ˆæ™ºèƒ½å†³ç­–ï¼‰
- âœ… ä½¿ç”¨å¥‡å¼‚ç‰©è´¨æ•°é‡
- âœ… å„ç§èµ„æºåº“å­˜

### ğŸ“ ä½¿ç”¨ç¤ºä¾‹

#### åŸºç¡€ç‰ˆæœ¬
```python
from fertilizer_farm import quick_test, infinite_farm

# å¿«é€Ÿæµ‹è¯•ï¼ˆ3ä¸ªå¾ªç¯ï¼‰
quick_test()

# æ— é™å¾ªç¯
infinite_farm()
```

#### é«˜çº§ç‰ˆæœ¬
```python
from fertilizer_farm_advanced import quick_test_advanced, infinite_farm_advanced

# å¿«é€Ÿæµ‹è¯•
quick_test_advanced()

# æ— é™å¾ªç¯
infinite_farm_advanced()
```

### ğŸ’¡ æ ¸å¿ƒç†å¿µ
è‚¥æ–™å†œåœºçš„æ ¸å¿ƒæ˜¯**å¹³è¡¡é€Ÿåº¦å’Œäº§é‡**ï¼š
- è‚¥æ–™ â†’ åŠ é€Ÿç”Ÿé•¿ â†’ æ„ŸæŸ“ â†’ äº§é‡å‡åŠ
- å¥‡å¼‚ç‰©è´¨ â†’ æ²»æ„ˆæ„ŸæŸ“ â†’ æ¢å¤äº§é‡
- æ™ºèƒ½ç®¡ç† â†’ æœ€ä¼˜å†³ç­– â†’ æœ€å¤§åŒ–æ”¶ç›Š

### ğŸ”„ ä¸ç°æœ‰ç³»ç»Ÿé›†æˆ
- âœ… ä½¿ç”¨ `farm_utils.py` ä¸­çš„é€šç”¨å‡½æ•°
- âœ… æ”¯æŒç¯å½¢åœ°å›¾æœ€çŸ­è·¯å¾„
- âœ… å…¼å®¹æµ‡æ°´ç³»ç»Ÿ
- âœ… å¯ä¸å…¶ä»–ä¸“ä¸šå†œåœºé…åˆ

### ğŸ“š æ–‡æ¡£å®Œå–„
æ–°å¢ `FERTILIZER_FARM_README.md` åŒ…å«ï¼š
- è‚¥æ–™æœºåˆ¶è¯¦è§£
- ä½œç‰©é€‰æ‹©åˆ†æ
- é…ç½®è¯´æ˜
- ç­–ç•¥æŒ‡å—
- æ•ˆç‡åˆ†æ
- æˆæœ¬æ•ˆç›Šåˆ†æ
- å¸¸è§é—®é¢˜è§£ç­”
- è¿›é˜¶æŠ€å·§

---

## V3.0 - IDæ£€æµ‹é©å‘½ç‰ˆ (2024-10-19) ğŸ‰

### ğŸ†• é‡å¤§æ–°ç‰¹æ€§
- **IDæ£€æµ‹æŠ€æœ¯**ï¼šä½¿ç”¨ `measure()` å‡½æ•°è·å–å—ç“œå”¯ä¸€ID
- **å¯¹è§’çº¿æ£€æµ‹**ï¼šæ£€æµ‹ (x,y) å’Œ (x+5,y+5) çš„IDæ˜¯å¦ç›¸åŒ
- **æŒ‰éœ€æ”¶è·**ï¼šå·¨å‹å—ç“œå½¢æˆå³æ”¶è·ï¼Œæ— éœ€ç­‰å¾…å…¨éƒ¨æˆç†Ÿ
- **å…¨åœºç§æ¤**ï¼šç§æ»¡12x12=144æ ¼ï¼Œä¸é™åˆ¶å›ºå®šåŒºåŸŸ
- **æ”¯æŒé‡å **ï¼šè‡ªåŠ¨è¯†åˆ«æ‰€æœ‰å¯èƒ½çš„å·¨å‹å—ç“œï¼ˆ49ä¸ªå¯èƒ½ä½ç½®ï¼‰

### âœ¨ æ ¸å¿ƒä¼˜åŠ¿
- ğŸ¯ **100%å‡†ç¡®**ï¼šIDæ£€æµ‹ç»å¯¹å¯é 
- âš¡ **å®æ—¶æ”¶è·**ï¼šèµ„æºæ›´æ—©åˆ°è´¦
- ğŸ”„ **æ™ºèƒ½å¾ªç¯**ï¼šæŒç»­æ£€æµ‹ï¼Œæ”¶è·4ä¸ªåè‡ªåŠ¨ç»“æŸ
- ğŸ›¡ï¸ **é˜²é‡å¤**ï¼šIDè®°å½•é¿å…é‡å¤æ”¶è·
- ğŸ“Š **è¯¦ç»†ç»Ÿè®¡**ï¼šè¿½è¸ªæ¯ä¸ªå·¨å‹å—ç“œçš„IDå’Œæ”¶è·é‡

### ğŸ”§ æŠ€æœ¯æ”¹è¿›
```python
# æ–°å¢æ ¸å¿ƒå‡½æ•°
detect_and_harvest_mega_pumpkins()  # IDæ£€æµ‹å’Œæ”¶è·
wait_and_harvest_loop()             # æŒç»­æ£€æµ‹å¾ªç¯

# æ£€æµ‹é€»è¾‘
goto(x, y)
id1 = measure()
goto(x+5, y+5)
id2 = measure()
if id1 == id2:  # åŒä¸€ä¸ªå·¨å‹å—ç“œ
    harvest()
```

### ğŸ“ˆ æ€§èƒ½æå‡
- å‡†ç¡®ç‡ï¼š85% â†’ **100%**
- çµæ´»æ€§ï¼š4ä¸ªå›ºå®šä½ç½® â†’ **49ä¸ªå¯èƒ½ä½ç½®**
- èµ„æºåˆ©ç”¨ï¼šå»¶è¿Ÿè·å– â†’ **å®æ—¶è·å–**
- æ”¶è·ç­–ç•¥ï¼šç­‰å¾…å…¨éƒ¨ â†’ **æŒ‰éœ€æ”¶è·**

### ğŸ†• æ–°å¢é…ç½®
```python
CONFIG = {
    'mega_pumpkin_size': 6,  # å·¨å‹å—ç“œå¤§å°
    'world_size': 12,        # ä¸–ç•Œå¤§å°
}
```

### ğŸ“ æ–‡æ¡£æ›´æ–°
- æ–°å¢ `PUMPKIN_ID_DETECTION_GUIDE.md` - IDæ£€æµ‹è¯¦ç»†æŒ‡å—
- æ–°å¢ `VERSION_COMPARISON.md` - ç‰ˆæœ¬å¯¹æ¯”
- æ›´æ–° `README_12x12_PUMPKIN.md` - ä½¿ç”¨æŒ‡å—

---

## V2.0 - å››åŒºåŸŸä¼˜åŒ–ç‰ˆ (2024-10-19)

### ğŸ†• æ–°ç‰¹æ€§
- **4å—6x6åŒºåŸŸ**ï¼šåŒæ—¶ç®¡ç†4ä¸ªå·¨å‹å—ç“œåŒºåŸŸ
- **åŒºåŸŸéå†ä¼˜åŒ–**ï¼šå·¦ä¸‹â†’å³ä¸‹â†’å³ä¸Šâ†’å·¦ä¸Šï¼Œå‡å°‘ç§»åŠ¨
- **æœ€è¿‘é‚»ç®—æ³•**ï¼šéªŒè¯é˜¶æ®µè·¯å¾„ä¼˜åŒ–
- **è¯¦ç»†ç»Ÿè®¡**ï¼šæ¯é˜¶æ®µticksè¿½è¸ª

### âœ¨ æ”¹è¿›
- å•æ¬¡æ”¶è·ï¼š216 â†’ **864ä¸ªå—ç“œ**
- æ•ˆç‡æå‡ï¼š36 ticks/æ ¼ â†’ **25 ticks/æ ¼** (+44%)
- è·¯å¾„ä¼˜åŒ–ï¼šè›‡å½¢+åŒºåŸŸé¡ºåº+æœ€è¿‘é‚»

### ğŸ”§ æŠ€æœ¯ç»†èŠ‚
```python
# å®šä¹‰4ä¸ªåŒºåŸŸ
REGIONS = [(0,0), (6,0), (0,6), (6,6)]

# ä¼˜åŒ–éå†é¡ºåº
OPTIMIZED_REGION_ORDER = [0, 1, 3, 2]

# è·¯å¾„ä¼˜åŒ–å‡½æ•°ï¼ˆæ”¯æŒç¯å½¢åœ°å›¾è·ç¦»è®¡ç®—ï¼Œè‡ªåŠ¨è·å–åœ°å›¾å¤§å°ï¼‰
optimize_path(positions, start_x, start_y)
```

---

## V1.0 - åŸºç¡€ç‰ˆ (åˆå§‹ç‰ˆæœ¬)

### âœ¨ ç‰¹æ€§
- å•ä¸ª6x6åŒºåŸŸç§æ¤
- ä¸‰éä¼˜åŒ–ç­–ç•¥
- æ‰¹é‡å¼‚æ­¥éªŒè¯
- è›‡å½¢è·¯å¾„éå†

### ğŸ“Š æ€§èƒ½
- å•æ¬¡æ”¶è·ï¼š216ä¸ªå—ç“œ
- æ•ˆç‡ï¼š36 ticks/æ ¼
- ç¨³å®šæ€§ï¼šâ­â­â­

---

## ç‰ˆæœ¬é€‰æ‹©æŒ‡å—

| ç‰ˆæœ¬ | é€‚ç”¨åœºæ™¯ | æ¨èåº¦ |
|------|---------|--------|
| V1.0 | 6x6å†œåœºï¼Œæ¸¸æˆåˆæœŸ | â­â­â­ |
| V2.0 | 12x12å†œåœºï¼Œæ— measure | â­â­â­â­ |
| V3.0 | 12x12å†œåœºï¼Œæœ‰measure | â­â­â­â­â­ |

---

## æŠ€æœ¯æ¼”è¿›

### æ£€æµ‹æ–¹æ³•æ¼”è¿›
```
V1.0: æ—¶é—´ç­‰å¾… â†’ ç®€å•ä½†ä¸å‡†ç¡®
  â†“
V2.0: æ—¶é—´ç­‰å¾… + å¤šåŒºåŸŸ â†’ äº§å‡ºæå‡
  â†“
V3.0: IDæ£€æµ‹ â†’ é©å‘½æ€§å‡†ç¡® âœ…
```

### ç§æ¤ç­–ç•¥æ¼”è¿›
```
V1.0: å•åŒºåŸŸ6x6
  â†“
V2.0: 4ä¸ªå›ºå®š6x6åŒºåŸŸ
  â†“
V3.0: å…¨åœº12x12ï¼Œçµæ´»æ£€æµ‹ âœ…
```

### æ”¶è·ç­–ç•¥æ¼”è¿›
```
V1.0: ç­‰å¾…å…¨éƒ¨æˆç†Ÿ â†’ ä¸€æ¬¡æ”¶è·
  â†“
V2.0: ç­‰å¾…å…¨éƒ¨æˆç†Ÿ â†’ åˆ†åŒºæ”¶è·
  â†“
V3.0: æŒç»­æ£€æµ‹ â†’ æŒ‰éœ€æ”¶è· âœ…
```

---

## æœªæ¥è®¡åˆ’

### V3.1 (è®¡åˆ’ä¸­)
- [ ] è‡ªé€‚åº”å†œåœºå¤§å°æ£€æµ‹
- [ ] æ™ºèƒ½è‚¥æ–™ä½¿ç”¨ç­–ç•¥
- [ ] ä¼˜åŒ–æ£€æµ‹é¢‘ç‡ç®—æ³•

### V4.0 (æœªæ¥)
- [ ] æ”¯æŒ18x18, 24x24å†œåœº
- [ ] å¤šå°ºå¯¸å·¨å‹å—ç“œï¼ˆ3x3, 9x9ï¼‰
- [ ] å¹¶è¡Œå¤šæ— äººæœºæ”¯æŒ
- [ ] æœºå™¨å­¦ä¹ æœ€ä¼˜ä½ç½®é¢„æµ‹

---

## è´¡çŒ®è€…
- åˆå§‹å¼€å‘ï¼šAI Assistant
- ä¼˜åŒ–å»ºè®®ï¼šç”¨æˆ·åé¦ˆ
- IDæ£€æµ‹åˆ›æ–°ï¼šåŸºäº measure() åŠŸèƒ½å‘ç°

---

## è®¸å¯
æœ¬é¡¹ç›®ä¸º The Farmer Was Replaced æ¸¸æˆè„šæœ¬ï¼Œä»…ä¾›å­¦ä¹ å’Œä¸ªäººä½¿ç”¨ã€‚

---

**äº«å—é«˜æ•ˆå—ç“œç”Ÿäº§ï¼** ğŸƒâœ¨

